<view class="container">
	<view class="header">
		<view class="title">
			<text wx:if="{{currentTab === 0}}">å¡é¡¹å•†åŸ</text>
			<text wx:if="{{currentTab === 1}}">æ¬¡å¡å•†åŸ</text>
			<text wx:if="{{currentTab === 2}}">å‚¨å€¼å¡å•†åŸ</text>
		</view>
		<view class="total">
			<text wx:if="{{currentTab === 0}}">å…± {{totalCount}} ä¸ª</text>
			<text wx:if="{{currentTab === 1}}">å…± {{timesCardCount}} ä¸ª</text>
			<text wx:if="{{currentTab === 2}}">å…± {{balanceCardCount}} ä¸ª</text>
		</view>
	</view>

	<!-- åˆ†ç±»æ ‡ç­¾ -->
	<view class="category-tabs">
		<scroll-view class="tabs-scroll" scroll-x="true" scroll-with-animation="true">
			<view class="tab-item {{currentTab === 0 ? 'active' : ''}}" bindtap="switchTab" data-tab="0">
				<text class="tab-text">å…¨éƒ¨</text>
			</view>
			<view class="tab-item {{currentTab === 1 ? 'active' : ''}}" bindtap="switchTab" data-tab="1">
				<text class="tab-text">æ¬¡å¡</text>
			</view>
			<view class="tab-item {{currentTab === 2 ? 'active' : ''}}" bindtap="switchTab" data-tab="2">
				<text class="tab-text">å‚¨å€¼å¡</text>
			</view>
		</scroll-view>
	</view>

	<!-- å¡é¡¹åˆ—è¡¨ -->
	<view class="card-list">
		<view class="card-item" wx:for="{{displayCards}}" wx:key="_id" bindtap="viewCard" data-id="{{item._id}}" style="background: {{item.bgColor}};">
			<view class="card-content">
				<view class="card-header">
					<text class="card-name">{{item.title}}</text>
					<view class="card-type">
						<text wx:if="{{item.cardType === 1}}">æ¬¡æ•°å¡</text>
						<text wx:else>ä½™é¢å¡</text>
					</view>
				</view>

				<view class="card-desc">{{item.desc}}</view>

				<view class="card-footer">
					<view class="card-value">
						<text wx:if="{{item.cardType === 1}}" class="value-text">{{item.times}} æ¬¡</text>
						<text wx:else class="value-text">${{item.amount}}</text>
					</view>
					<view class="card-price">
						<text class="price-label">å”®ä»·</text>
						<text class="price-value">${{item.price}}</text>
					</view>
				</view>
			</view>
		</view>
	</view>

	<!-- ç©ºçŠ¶æ€ -->
	<view wx:if="{{dataLoaded && displayCards.length === 0}}" class="empty-state">
		<text class="empty-icon">ğŸ›’</text>
		<text class="empty-text">æš‚æ— å¡é¡¹</text>
	</view>

	<!-- åŠ è½½çŠ¶æ€ -->
	<view wx:if="{{loading}}" class="loading-state">
		<text>åŠ è½½ä¸­...</text>
	</view>

	<!-- è¿”å›æŒ‰é’® -->
	<view class="footer-nav">
		<button class="btn-back" bindtap="goBack">â† è¿”å›</button>
	</view>
</view>
