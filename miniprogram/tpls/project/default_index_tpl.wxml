<template name="defaultIndexTpl">
	<view class="main">
		<!-- Carousel Banner -->
		<view class="carousel-section">
			<swiper class="carousel" autoplay="{{true}}" interval="{{5000}}" duration="{{500}}" circular="{{true}}" indicator-dots="{{true}}" indicator-color="rgba(255, 255, 255, 0.5)" indicator-active-color="#fff" bindchange="onCarouselChange">
				<block wx:for="{{carouselList}}" wx:key="_id">
					<swiper-item>
						<image src="{{item.CAROUSEL_PIC}}" mode="aspectFill" class="carousel-image" />
					</swiper-item>
				</block>
			</swiper>
			<view class="carousel-button" bindtap="onCarouselButtonTap" hover-class="none">
				<text class="button-text">Book Your Spot</text>
				<image class="button-icon" src="../../skin/images/index_page/Gemini_Generated_Image_92tusb92tusb92tu-removebg-preview.png" mode="aspectFit" />
			</view>
		</view>

		<!-- Main Menu -->
		<view class="main-menu">
			<view class="menu-grid card-project shadow-project">
				<view bindtap="url" data-url="../../meet/index/meet_index" class="menu-item">
					<view class="menu-item-inner">
						<view class="menu-icon"><image src="../../skin/images/menu_icon/预约-removebg-preview.png" /></view>
						<view class="menu-title">预约</view>
					</view>
				</view>

				<view bindtap="url" data-url="../../../../pages/card/store/card_store" class="menu-item">
					<view class="menu-item-inner">
						<view class="menu-icon"><image src="../../skin/images/menu_icon/卡项-removebg-preview.png" /></view>
						<view class="menu-title">卡项</view>
					</view>
				</view>

				<view bindtap="showComingSoon" class="menu-item">
					<view class="menu-item-inner">
						<view class="menu-icon"><image src="../../skin/images/menu_icon/课程-removebg-preview.png" /></view>
						<view class="menu-title">课程</view>
					</view>
				</view>

				<view bindtap="url" data-url="../../about/detail/about_detail" class="menu-item">
					<view class="menu-item-inner">
						<view class="menu-icon"><image src="../../skin/images/menu_icon/关于我们-removebg-preview.png" /></view>
						<view class="menu-title">关于我们</view>
					</view>
				</view>
			</view>
		</view>

		<!-- 核销排行榜 - 领奖台样式 -->
		<view class="rank-section-wrapper">
			<cmpt-rank-list id="rankList" type="all" limit="{{3}}" />
		</view>

		<!-- 海报区域 - 占位，待添加 -->
		<view class="poster-section">
			<view class="poster-placeholder">
				<text class="placeholder-text">海报区域（待添加）</text>
			</view>
		</view>

		<!-- 导师团队 -->
		<view class="instructor-section">
			<view class="section-header">
				<view class="section-title">导师团队</view>
				<view class="section-more" bindtap="url" data-url="../../instructor/index/instructor_index">更多</view>
			</view>
			<swiper class="instructor-swiper" autoplay="{{true}}" interval="{{4000}}" duration="{{500}}" circular="{{true}}" indicator-dots="{{true}}" indicator-color="rgba(0, 0, 0, 0.2)" indicator-active-color="#333333" disable-touch="{{false}}">
				<block wx:for="{{instructorList}}" wx:key="_id" wx:if="{{index % 2 === 0}}">
					<swiper-item>
						<view class="instructor-swiper-item">
							<!-- 当前导师 -->
							<view class="instructor-item" bindtap="onInstructorTap" data-id="{{item._id}}">
								<image src="{{item.INSTRUCTOR_PIC}}" mode="aspectFill" class="instructor-avatar" />
								<view class="instructor-name">{{item.INSTRUCTOR_NAME}}</view>
							</view>
							<!-- 下一个导师 (如果存在) -->
							<block wx:if="{{instructorList[index + 1]}}">
								<view class="instructor-item" bindtap="onInstructorTap" data-id="{{instructorList[index + 1]._id}}">
									<image src="{{instructorList[index + 1].INSTRUCTOR_PIC}}" mode="aspectFill" class="instructor-avatar" />
									<view class="instructor-name">{{instructorList[index + 1].INSTRUCTOR_NAME}}</view>
								</view>
							</block>
						</view>
					</swiper-item>
				</block>
			</swiper>
		</view>
	</view>
</template>